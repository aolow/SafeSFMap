# SafeSF Path Finder 
### - Tool Development Proposal for Finding Safest Routes in San Francisco

San Francisco is a booming city owing to the tech industry and an attractive touristic destination. Nevertheless, the city saw more than 20% spike in property crime such as thefts and burglary, as well as an unnerving increase in violent crime such as robbery and assault between 2012 and 2013 alone. If you are planning to visit or move to San Francisco, you may have found a lot of useful tips on which neighborhoods to avoid, and where it is safe to stay. However, what may shock the visitor is how eclectic the city is, with the socioeconomic landscapes changing from one block to another. Even though one may try to avoid the less-safe neighborhoods, it is very easy to cross into the one block that simply does not feel safe.

For the Data Incubator Challenge project, I would like to propose SafeSF path finder tool for visitors and locals alike, who are looking to find the safest route to make it to their destination. The application will utilize public safety data from San Francisco crime reports from 2009-2015 <data.sfgov.org> as well as traffic incident reports <sfcta.org> to create realistic predictions of passage risks, and use it to suggest the safest and shortest path to a selected destination. 

##### The development of the proposed tool will occur in the following stages:

1. Categorization of the crimes based on commute impact as well as severity (e.g. loitering is a lower risk crime than assault).
2. Definition of minimum safety and maximum risk thresholds.
3. Development and normalization of risk predictors including location, time of day, day of the week and the month. 
4. Addition of risk factors describing socioeconomic patterns (income, age, health, employment); the impact of weather conditions, and special events (e.g. SF Giants game or closure of Market Street) into the prediction algorithm.
5. Personalization of risk prediction for the user by considering the impact of age and gender on the risk prediction accuracy.
6. Implementation of the risk detection into pre-existing shortest path finding algorithms. In short, the probability of incident given neighborhood + time + street will be modeled; the shortest route between two nodes on the map will be re-weighed based on the incident probability.
7. The follow-up addition would reccommend alternative commute means if the safest path found does not meet minimum safety threshold.

The initial exploratory analysis was performed utilizing [pulic safety records](https://data.sfgov.org/Public-Safety/Map-Crime-Incidents-from-1-Jan-2003/gxxq-x39z) containing incident report data from 2003-2015 with variables including, among others, classification of the type of crime, as well as the exact geographical location. The main goal of this analysis is to visualize high level patterns of San Francisco crime occurences and the impact of variables which will be explored in the initial stages of the predictive algorithm development.

In the initial risk factor classification, the Public Safety Data was subset for crimes with high potential of affecting the pedestrians and traffic. Ultimately, the selected factors include assault, disorderly conduct, driving under the influence, larceny/theft, robbery and sex offenses. Moreover, certain crime subtypes were re-classified into respective higher level categories, e.g. 'drunkenness' has been grouped with 'disorderly conduct'. Furthermore, the specific times of occurences were classified into the times of day categories, where morning indicates 5AM - 12PM, afternoon 12PM - 5PM, evening 5PM - 9PM and night 9PM-5AM. Data from 2015 has been excluded from this analysis due to incompleteness.

[Figure 1](https://github.com/aolow/SafeSFMap/blob/master/Fig1.pdf) represents the breakdown of annual averages of selected crime types from 2003 to 2014. Larceny and assault are the two dominating types of pedestrian-affecting crime in San Francisco. The bar graph in the first panel depicts a rapid increase in cases of larceny/theft from 2011 to 2014. Simultaneously, a decrease in counts of disorderly conduct is observed. The corresponding San Francisco crime map from 2014 localizes the events primarily to the North East side of the city, predominantly the Market Street area, Civic Center, Financial, SOMA and Mission districts. Simple linear regression model was created to predict the total numbers of crime in 2015 for each neighborhood. The neighborhoods with highest predicted risk are the Southern Areas (~300 predicted events), and notably high crime predictions for the Tenderloin, Mission, and Central districts. 

Next the predominant factors for the initial risk prediction model have been visualized. The first panel of [Figure 2](https://github.com/aolow/SafeSFMap/blob/master/Fig2.pdf) represents the breakdown of crime type by time of day and day of the week, as an annual average recorded from 2003-2014. The highest overall risks of crime are observed on Saturday/Sunday nights, and are on a par with risks present on any weekday in the afternoon. The highest risk of assault is observed also on Saturday and Sunday nights, followed by Friday afternoons. Evenings are the safest time of the day, with lowest instances of disorderly conduct, assault and robbery. Nights are when the highest numbers of robberies were recorded. Driving under the influence has been primarily reported on Thursday, Saturday and Sunday nights. The second panel further investigates the time of day patterns, however in this case the differences between San Francisco neighborhoods are depicted. Southern San Francisco has the highest recorded numbers of all the investigated crimes. Among the safest neighborhoods are Taraval, Richmond and the Golden Gate Park (Park). However, while in the Park area overall crime levels are on average low, the afternoon risk of encountering disorderly conduct are among the highest. At night, the vistors should also avoid the Northern area, Mission and Central San Francisco. Mornings and evenings are the safest time of day across all neighborhoods. A more detailed look on San Francisco maps per time of day (in the last panel) allows for more insight into the high risk areas and the risk types. For example, the Panhandle area has reported large numbers of disorderly conduct instances in the afternoons over 2003-2014 period, with otherwise lower numbers at different times of the day. A distinct pattern of high counts of assault reports emerge in the Mission and Civic Center neighborhoods at night. This detailed information will be likewise harnessed into the SafeSF Path Finder.

The tool proposed in this project would fill an urgent need for many people visiting and living in San Francisco. While so far we need to rely on advice dispersed through a variety of sources, the SafeSF path finder would not only organize and summarize such safety information data, but also create informed predictions customized to the seasonal conditions and specific time of the day. The possibilities for expansion and improvement of the initial model are numerous allowing for product growth and increase in its marketability over time.


